!function(t){"use strict";function e(e,r){f=!1,u=t.extend({letterSpacing:.5,fontSize:90,cutText:"â€¦",dataAttr:"flexText",addTitle:!0,verbose:!1},r),n(e,u)}function n(t){var e=t.data(u.dataAttr);e?t.text(e):t.data(u.dataAttr,t.text());for(var n in u)if(u[n]!==!1&&f===!1){var r=u[n];"letterSpacing"==n?i(t,r):"fontSize"==n?a(t,r):"cutText"==n&&c(t,r)}}function r(t){u.verbose&&console.log(t)}function i(t,e){for(var n,i=t.css("letterSpacing")||0,a=e||.5,c=-.1;c>=-a;c-=.1){if(o(t))return f=!0;n=(i-c).toFixed(1),t.css("letterSpacing","-"+n+"px"),r("changing letterSpacing to -"+n+"px")}}function a(t,e){for(var n=e||90,i=99;i>=n;i-=2){if(o(t))return f=!0;t.css("fontSize",i+"%"),r("changing fontSize to "+i+"%")}}function c(e,n){var i,a=e.data(u.dataAttr);u.addTitle&&e.attr("title",a);for(var c=a.length;c>0;c--){if(o(e))return f=!0;a=e.text(),i=a.length-(2+n.length),e.text(t.trim(a.substr(0,i))+n),r("cutting text to "+i+" chars")}}function o(t){var e=t.height()+Math.ceil(parseInt(t.css("line-height"),10))/10;return t.get(0).scrollHeight>e?!1:!0}var f,u;t.fn.flexText=function(n){return this.each(function(){e(t(this),n)})}}(jQuery);